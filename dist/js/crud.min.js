!function(){"use strict";angular.module("crud.form",[])}(),function(){"use strict";angular.module("crud",["ngDialog","crud.form","crud.toolbar","crud.datatable"])}(),function(){"use strict";angular.module("crud.datatable",[])}(),function(){"use strict";angular.module("crud.toolbar",[])}(),function(){"use strict";angular.module("crud").config(["$httpProvider",function(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}])}(),function(){"use strict";function t(t,n){function e(e,r){function a(){e.form=new t(o(e.manifest,[{afterBuild:i}]))}function o(t,n){return t.hasOwnProperty("events")||(t.events={}),n.forEach(function(t){var n=Object.keys(t)[0],e=t[n];return this.hasOwnProperty(n)?this[n]=[e,this[n]]:void(this[n]=e)},t.events),t}function i(t){r.replaceWith(n(t)(e));var a=$(t).parents("div.ngdialog-content");1===a.length&&a.width(700)}if(e.manifest instanceof Object)return a()}return{link:e,restrict:"E",scope:{manifest:"="}}}angular.module("crud.form").directive("zzForm",t),t.$inject=["FormHandler","$compile"]}(),function(){"use strict";function FormHandlerFactory(Form,EventsHandler,FormRenderer,transformer){function FormHandler(manifest){function activate(){return["name:String","children:Array","actionBar:Array"].forEach(function(token){var $this=this,parts=token.split(":"),field=parts[0];$this[field]=function(field,type){return this.hasOwnProperty(field)&&this[field].constructor.name==type?this[field]:eval("new "+type+"()")}.apply(manifest,parts)},$this),$renderer=new FormRenderer(manifest.hasOwnProperty("layout")?manifest.layout:void 0),manifest.hasOwnProperty("useFormTransformer")&&($transformer=transformer(manifest.useFormTransformer)),manifest.hasOwnProperty("events")&&manifest.events instanceof Object&&(manifest.hasOwnProperty("actions")&&manifest.actions instanceof Object&&angular.extend(manifest.events,manifest.actions),angular.extend($this,new EventsHandler(manifest.events))),Object.keys($this).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(manifest[t]=this[t])},$this),$this}function data(t,n){if(void 0===t)return $data;{if("string"!=typeof t)return t instanceof Object&&($data=t),$this;if(void 0!==n)return $data[t]=n,$this;if($data.hasOwnProperty(t))return $data[t]}}function getChildren(){return $this.children}function getChild(t){return void 0!==$this.children[t]?$this.children[t]:void 0}function getChildById(t){try{return $this.children.forEach(function(n){if(n.id===t)throw n})}catch(n){return n}}function build(t){delete manifest.build,void 0!==$transformer&&(t=$transformer.transform(t)),angular.extend($this,t).data(t.values).event("afterBuild").invoke(void 0,$renderer.render(new Form($this))),Object.keys($this.values).forEach(function(t){this.indexOf(t)>-1||delete $this.values[t]},$this.children.map(function(t){return t.id}))}var $data={},$renderer,$transformer,$this=angular.extend(this,{name:"",action:"",method:"",children:[],actionBar:[],data:data,getChildren:getChildren,getChild:getChild,getChildById:getChildById,build:build});return activate()}return FormHandler}angular.module("crud.form").factory("FormHandler",FormHandlerFactory),FormHandlerFactory.$inject=["Form","EventsHandler","FormRenderer","tf.form"]}(),function(){"use strict";function t(){function t(t){function r(){return c.rule(void 0!==t?t:"dumb")}function a(t){return void 0===t?i:(i=t,c)}function o(t){return $("body").append(t),{dumb:n,grid:e}[i](t),t}var i,c=angular.extend(this,{rule:a,render:o});return r()}function n(t){$("> children > child",t).each(function(){var n=$("> *",this).toArray();return 1===$('> input[type="hidden"]',this).length?t.prepend(n):(n.length>1?($(n[0]).attr("class","col-lg-3"),$(n[0]).is("label")&&$(n[0]).addClass("control-label"),n[1]=$('<div class="col-lg-9" />').append($(n[1]))):n.length>0&&(n[0]=$('<div class="col-lg-offset-3 col-lg-9" />').append($(n[0]))),void t.append($('<div class="form-group" />').append(n)))}),t.addClass("form-horizontal").append($('<div class="form-group mb0" />').append($('<div class="col-lg-offset-3 col-lg-9" />').append($("> action-bar > *",t)))),$("> children, > action-bar",t).remove()}function e(t){$("> div.form-group",n(t)||t).addClass("col-lg-6")}return t}angular.module("crud.form").factory("FormRenderer",t),t.$inject=[]}(),function(){"use strict";function t(){function t(t){return n(t.name).append(s(t.children)).append(u(t.actionBar))}function s(t){return $("<children />").append(t.map(function(t,n){try{return $("<child />").append({hidden:e,checkbox:r,text:a,select:o,datePicker:i}[t.type](angular.extend(t,{index:n,model:"form.data()."+t.id})))}catch(c){throw console.error("Cannot find element by type: "+t.type,t)}}))}function u(t){return $("<action-bar />").append(t.map(function(t,n){var e=c(t);return 0!==n&&e.addClass("ml"),e}))}return t}function n(t){return $('<form class="form-validate" role="form" novalidate />').attr("name",t)}function e(t){return $('<input type="hidden" />').attr({name:t.name,"ng-model":t.model})}function r(t){return $('<div class="checkbox c-checkbox pt0" />').css("minHeight","0").append($("<label />").html(t.label).prepend($('<input type="checkbox" />').attr({name:t.name,"ng-model":t.model}),$('<span class="fa fa-check" />')))}function a(t){return[$('<label class="control-label mt-sm" />').html(t.label),$('<input type="text" class="form-control" />').attr({name:t.name,placeholder:t.placeholder,"ng-model":t.model})]}function o(t){function n(t){return $('<select class="form-control" />').attr({name:t.name,"ng-model":t.model,"ng-options":"option.id as option.text | translate for option in form.getChild("+t.index+").options"})}function e(t){return $("<ui-select />").attr({name:t.name,"ng-model":t.model,theme:"bootstrap",multiple:!0}).append($("<ui-select-match />").html("{{ $item.text }}").attr({placeholder:t.placeholder}),$("<ui-select-choices />").attr("repeat","option.id as option in (form.getChild("+t.index+").options | filter: $select.search)").append($("<div />").html("{{ option.text }}")))}return[$('<label class="control-label mt-sm" />').html(t.label),function(){return t.hasOwnProperty("multiple")&&t.multiple!==!1?e(t):n(t)}(t)]}function i(t){return angular.extend(t,{isOpen:!1,options:{}}),[$('<label class="control-label mt-sm" />').html(t.label),$('<div class="input-group" />').append($('<input type="text" class="form-control" />').attr({"uib-datepicker-popup":"dd-MMMM-yyyy","datepicker-options":"form.children["+t.index+"].options","close-text":"Close","is-open":"form.children["+t.index+"].isOpen","ng-model":t.model}),$('<span class="input-group-btn">').append($('<button class="btn btn-default" />').append($('<i class="fa fa-calendar" />')).click(function(){t.isOpen=!0})))]}function c(t){var n=$('<button class="btn btn-default" />').html('{{ "'+t.title+'" | translate }}');return t.hasOwnProperty("class")&&n.removeClass("btn-default").addClass("btn-"+t["class"]),t.hasOwnProperty("icon")&&n.prepend($('<em class="mr-sm" />').addClass(t.icon)),t.hasOwnProperty("$$")&&n.data("$$",t.$$).click(function(){var t=angular.element(this).scope().form,n=$(this).data("$$");t.event(n).invoke(t)}),n}angular.module("crud.form").factory("Form",t)}(),function(){"use strict";function t(){function t(){function t(){return r=n(),a}function n(){function t(t){function n(t){return t.id}function e(t){return t.map(function(t){return t.id})}if(t.constructor!==Object)return{};var r={object:n,array:e};return Object.keys(t).forEach(function(t){var n=this[t].constructor.name.toLowerCase();r.hasOwnProperty(n)&&(this[t]=r[n](this[t]))},t)||t}function n(t){return t.hasOwnProperty("multiple")?!!t.multiple:void 0}function e(t){return"choice"===t?"select":"date"===t?"datePicker":t}function a(t,n,e){return n=void 0!==e?e:n,t.attr.hasOwnProperty(n)?'{{ "'+t.attr[n]+'" | translate }}':t[n]}function o(t){return t.hasOwnProperty("choices")&&t.choices instanceof Object&&(t.choices=Object.keys(t.choices).map(function(n){return t.choices[n]})),t.hasOwnProperty("choices")&&t.choices instanceof Array?[{id:void 0,text:t.placeholder}].concat(t.choices.map(function(t){return{id:t.data instanceof Object?t.data.id:t.data,text:t.label}})):void 0}function i(t){return function(){var t=this;return Object.keys(arguments).forEach(function(n){void 0!==this[n][Object.keys(this[n])[0]]&&angular.extend(t,this[n])},arguments),t}.apply({id:t.name,type:r.type(t.block_prefixes[1]),name:t.name},[{label:r.label(t,"label","translateLabel")},{placeholder:r.label(t,"placeholder")},{options:r.options(t)},{multiple:r.multiple(t)}])}function c(t){return t.hasOwnProperty("children")?Object.keys(t.children).map(function(n){return t.children[n].hasOwnProperty("vars")?r.child(t.children[n].vars):void 0}).filter(function(t){return void 0!==t}):void 0}function s(t){return t.hasOwnProperty("vars")?{name:t.vars.full_name,action:t.vars.action,method:t.vars.method,children:r.children(t),values:r.values(t.vars.value)}:void 0}return{values:t,multiple:n,type:e,label:a,options:o,child:i,children:c,form:s}}function e(t){return r.form(t)}var r,a=angular.extend(this,{transform:e});return t()}var n={symfony:new t};return function(t){return n[t]}}angular.module("crud").service("tf.form",t)}(),function(){"use strict";function t(){return e.prototype=Object.create(Array.prototype),n}function n(t){function n(){o={},Object.keys(t).forEach(function(n){t[n]instanceof Array||(t[n]=[t[n]]),t[n].forEach(function(t){a(n,t)})})}function r(t){return o.hasOwnProperty(t)||(o[t]=new e),o[t]}function a(t,n){return o.hasOwnProperty(t)||(o[t]=new e),o[t].push(n),i}var o,i=angular.extend(this,{event:r});return n(),i}function e(){function t(t,e){e=arguments,n.forEach(function(n){n.apply(t,this)},Object.keys(e).filter(function(n){return t!==e[n]}).map(function(t){return e[t]}))}var n=angular.extend(this,{invoke:t});return n}angular.module("crud").factory("EventsHandler",t)}(),function(){"use strict";function t(t){return function(){function n(n){return a=t({url:n,method:"GET"}),this}function e(t){return t instanceof Object&&void 0!==a&&a.then.apply(a,["onSuccess","onError"].map(function(n){return t.hasOwnProperty(n)?function(e){t[n](e.data,e.status,e)}:void 0})),this}function r(){a=void 0}var a;return{load:n,onLoaded:e,clearPromise:r}}}angular.module("crud").factory("CRUDLoader",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(){function t(){return r=n(),a}function n(){function t(t){var n={editRow:"setState",deleteRow:"remove"};return n.hasOwnProperty(t.callback)?n[t.callback]:t.callback}function n(t){return t.hasOwnProperty("confirm")?{title:t.confirm.title,buttons:{confirm:t.confirm.yes.title,cancel:t.confirm.no.title}}:void 0}function e(t){return t.hasOwnProperty("form")?{source:t.form}:void 0}function r(t){return t.hasOwnProperty("resource")?t.resource:void 0}function a(t){return t.hasOwnProperty("display")?t.display:void 0}return{name:t,confirm:n,form:e,view:a,source:r}}function e(t){return function(){var t=this;return Object.keys(arguments).forEach(function(n){void 0!==this[n][Object.keys(this[n])[0]]&&angular.extend(t,this[n])},arguments)||t}.apply({name:r.name(t)},[{confirm:r.confirm(t)},{form:r.form(t)},{source:r.source(t)},{view:r.view(t)}])}var r,a=angular.extend(this,{transform:e});return t()}var n={symfony:new t};return function(t){return n[t]}}angular.module("crud").service("tf.action",t)}(),function(){"use strict";function t(t){function e(t){return void 0===a.get(t)&&a.set(t,new n),a.get(t)}function r(n){return void 0===e("loader").get(n)&&e("loader").set(n,new t),e("loader").get(n)}var a=new n;return{loader:r}}function n(){function t(t,n){return e[t]=n,r}function n(t){return e[t]}var e={},r={set:t,get:n};return r}angular.module("crud").service("supervisor",t),t.$inject=["CRUDLoader"]}(),function(){"use strict";function t(t,n){function e(n,e,a){t(angular.extend(n,function(t){return n.hasOwnProperty("data")?$.param(n.data):t}({}),function(t){return n.hasOwnProperty("contentType")&&"form"===n.contentType?{headers:{"Content-Type":"application/x-www-form-urlencoded"}}:t}({}))).then(function(t){var a=t.data;n.hasOwnProperty("notify")&&r(n.notify,"success",a),"function"==typeof e&&e(a)},function(t){var e=t.data;n.hasOwnProperty("notify")&&r(n.notify,"error",e),"function"==typeof a&&a(t.data)})}function r(t,e,r){function a(){t.hasOwnProperty("message")||(t.message="="),t.hasOwnProperty("skipIf")&&t.skipIf.constructor!==Array&&(t.skipIf=[t.skipIf]),o()&&n.pop(e,c[e].title,i(t.message))}function o(){return c.hasOwnProperty(e)&&!(t.hasOwnProperty("skipIf")&&-1!==t.skipIf.indexOf(e))}function i(t){return t instanceof Object&&t.hasOwnProperty(e)?i(t[e]):r[function(t){return t&&void 0!==t[1]?t[1]:"message"}(/=?([A-z0-9-_]+)?/.exec(t))]}if(!(t instanceof Object)){if(-1===["boolean"].indexOf(typeof t))return;"boolean"==typeof t&&(t={})}var c={success:{title:"Success"},error:{title:"Error"}};return a()}return angular.extend(this,{send:e})}angular.module("crud").service("transport",t),t.$inject=["$http","toaster"]}(),function(){"use strict";function t(t,n,e,r,a,o,i){function c(){r.loader("config").load(n.$current.initialize).onLoaded({onSuccess:function(t){p.filter.build(t.filter),p.toolbar.build(t.action.top),p.datatable.build(t.grid)}})}function s(){function t(){var t=this,n={};p.datatable.filter(Object.keys(this.data()).forEach(function(n){this[t.name+"["+n+"]"]=t.data(n)},n)||n)}function n(){this.data({}),p.datatable.reset()}return{useFormTransformer:"symfony",layout:"grid",actionBar:[{$$:"search",icon:"fa fa-search",title:"admin.general.SEARCH","class":"primary"},{$$:"reset",icon:"fa fa-refresh",title:"admin.general.RESET"}],actions:{search:t,reset:n}}}function u(){function t(t){a.open({template:"crud/dialog.html",data:{icon:t.view.icon,title:t.view.label,datatable:p.datatable,form:{source:t.form.source}}})}return{useActionTransformer:"symfony",actions:{create:t,setState:d,remove:f}}}function l(){function t(){p.toolbar.refreshButtonsAccessibility(this.getSelectedRows().length>0)}function n(t){a.open({template:"crud/dialog.html",data:{icon:t.view.icon,title:t.view.label,datatable:p.datatable,form:{source:t.form.source+"/"+t.row.id}}})}return{events:{onRenderRows:t,onSelectRow:t},actions:{update:n,setState:d,remove:f}}}function d(t){var n=[];t.hasOwnProperty("row")&&n.push(t.row.id),1!==n.length&&(n=p.datatable.getSelectedRows().map(function(t){return $(t).data("$$").id})),e.send({url:t.source,method:"POST",data:{data:n},notify:!0},function(){p.datatable.refresh()})}function f(t){var n=[];t.hasOwnProperty("row")&&n.push(t.row.id),1!==n.length&&(n=p.datatable.getSelectedRows().map(function(t){return $(t).data("$$").id})),o.swal({title:h(t.confirm.title),type:"warning",showCancelButton:!0,cancelButtonText:h(t.confirm.buttons.cancel),confirmButtonText:h(t.confirm.buttons.confirm),confirmButtonColor:"#dd6b55"},function(r){r&&e.send({url:t.source,method:"POST",data:{data:n},notify:!0},function(){p.datatable.refresh()})})}var p=this,h=i("translate");t.icon=n.$current.crud.icon,t.title=n.$current.crud.title,p.filter=s(),p.toolbar=u(),p.datatable=l(),t.$on("panel-refresh",function(n,e){console.log(n,e),t.$broadcast("removeSpinner",e),"filter"===e&&p.filter.actions.reset.call(p.filter)}),c()}angular.module("crud").controller("CRUDController",t),t.$inject=["$scope","$state","transport","supervisor","ngDialog","SweetAlert","$filter"]}(),function(){"use strict";function t(t,n,e,r){function a(){if(!(t.$parent.hasOwnProperty("ngDialogData")&&t.$parent.ngDialogData instanceof Object))throw console.error("[ERROR]: Controller cannot access required initialisation data.");var n=t.$parent.ngDialogData;["icon","title"].forEach(function(t){n.hasOwnProperty(t)&&(s[t]=n[t])}),n.hasOwnProperty("datatable")&&i(n.datatable),n.hasOwnProperty("form")&&o(n.form)}function o(t){t instanceof Object&&t.hasOwnProperty("source")&&e.loader("form").load(t.source).onLoaded({onSuccess:function(t){s.isLoaded=!0,s.form.build(t)}})}function i(t){c=t}var c,s=this;s.isLoaded=!1,s.icon="fa fa-file-o",s.title="Dialog",s.errors=[],s.form={useFormTransformer:"symfony",actionBar:[{$$:"save",icon:"fa fa-check",title:"admin.general.SAVE","class":"primary"},{$$:"cancel",icon:"fa fa-minus-circle",title:"admin.general.CANCEL"}],actions:{save:function(){var e={};n.send({url:this.action,method:this.method,data:Object.keys(this.data()).forEach(function(t){var n=this.data(t);n instanceof Date&&(n=r("date")(n,"dd/MM/yyyy")),e[this.getChildById(t).name]=n},this)||e,notify:{skipIf:"error"}},function(){c.refresh(),t.closeThisDialog()},function(t){s.errors=t.message.split(/\n/)})},cancel:function(){t.closeThisDialog()}}},a()}angular.module("crud").controller("CRUDDialogController",t),t.$inject=["$scope","transport","supervisor","$filter"]}(),function(){"use strict";function t(t,n,e,r,a){function o(o,i){function c(){function t(t,n,e,r){if(function(t){if(!($("div.dataTables_ovCase",t.nTable).length>0)){var n=$(t.nTable),e=$('<div class="dataTables_ovCase" />');e.insertAfter(n).append(n).scroll(function(){$("> tr > td.actions",t.nTBody).css({marginRight:0-$(this).scrollLeft()+"px"})}),$(window).resize(function(){n.width()-e.width()<=e.scrollLeft()-1&&e.scrollLeft(n.width()-e.width()),$("> tr > td.actions",t.nTBody).each(function(){$(this).css({padding:($(this).parent().height()-$("> div",this).height())/2-1+"px 10px"})})})}}(r),m.instance.hasOwnProperty("drawAttrs")){var o=m.instance.drawAttrs;o.hasOwnProperty("filter")&&"string"==typeof o.filter&&o.filter.length>0&&(t+="?"+o.filter),o.hasOwnProperty("state")&&(r._iDisplayStart=o.state.start,n=n.map(function(t){return"iDisplayStart"===t.name&&(t.value=o.state.start),t}),delete o.state)}r.jqXHR=$.ajax({dataType:"json",type:"POST",url:t,data:n,success:function(t){e(angular.extend(t,{aaData:$.map(t.aaData,function(t){var n={DT_RowId:t[0]};return["<checkbox />"].concat(t.splice(0,t.length-1).concat(["<dropdown />"])).forEach(function(t,n){this[n]=t},n)||n})})),$('input[type="checkbox"]',r.nTable).prop("checked",!1),m.compile($("> tbody > tr",r.nTable).each(function(){$(this).data("$$",{id:parseInt($(this).attr("id")),selected:!1})}).find("> td > *").filter(function(){return/^(dropdown|checkbox)$/gi.test($(this).prop("tagName"))})),m.event("onRenderRows").invoke(m),$(window).resize()},error:function(t){401===t.status&&a.go("login")}})}return o.hasOwnProperty("events")&&o.events instanceof Object&&(o.hasOwnProperty("actions")&&o.actions instanceof Object&&angular.extend(o.events,o.actions),angular.extend(m,new n(o.events))),m.options=e.newOptions().withOption("order",[[1,"asc"]]).withOption("processing",!0).withOption("serverSide",!0).withOption("fnServerData",t).withOption("language",r.translateTable()).withPaginationType("full_numbers"),Object.keys(m).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(o[t]=this[t])},m),m}function s(t){function n(t){return t.constructor===Object?{filter:$.param(t)}:void 0}function e(t){if(t===!0){var n={state:{}};return Object.keys(r.page.info()).forEach(function(t){this[t]=r.page.info()[t]},n.state)||n}}var r=m.instance.DataTable,a=m.instance.drawAttrs={};return t instanceof Object&&["filter","holdState"].forEach(function(r){t.hasOwnProperty(r)&&angular.extend(a,{filter:n,holdState:e}[r](t[r]))}),r.draw()}function u(t){m.draw({filter:t})}function l(){m.draw(angular.extend({holdState:!0},m.instance.drawAttrs))}function d(){m.draw({})}function f(t,n){if(!($(t).data("$$")instanceof Object))throw console.error("[ERROR]: Cannot set row selection state",t);t.data("$$").selected=!!n,m.event("onSelectRow").invoke(m)}function p(){return $("> tbody > tr",m.instance.dataTable).filter(function(){return $(this).data("$$").selected}).toArray()}function h(n){delete o.build,angular.extend(m,n).event("afterBuild").invoke(null,new t(m)),m.options.sAjaxSource=n.source}var m=angular.extend(this,i,{instance:{},columns:[],source:"",options:{},selectRow:f,getSelectedRows:p,draw:s,filter:u,refresh:l,reset:d,build:h});return c()}return o}angular.module("crud.datatable").factory("DTHandler",t),t.$inject=["DataTable","EventsHandler","DTOptionsBuilder","TranslateDatatablesService","$state"]}(),function(){"use strict";function t(){function t(t){return $('<table class="table-bordered table-striped hover" />').attr({datatable:"crud","dt-instance":"dt.instance","dt-options":"dt.options"}).append(n(t.columns))}function n(t){return $("<thead />").append($("<tr />").append($('<th class="bt0 bl0 p text-center" />').attr({width:1,"data-sortable":!1}).append($("<checkbox />")),$.map(t,function(t){return $('<th class="bt0 bl0" />').html('{{ "'+t+'" | translate }}')}),$('<th class="actions" />').attr({width:1,"data-sortable":!1}).append($("<div />"))))}return t}angular.module("crud.datatable").factory("DataTable",t)}(),function(){"use strict";function t(t){function n(n,e){function r(){return $('<div class="checkbox c-checkbox mr0" />').append($("<label />").append($('<input type="checkbox" />').change(a)).append($('<span class="fa fa-check mr0" />')))}function a(){var t=$(this).prop("checked"),e='input[type="checkbox"]';!function(n){n.length&&n.next().find(e).prop("checked",t).change()}($(this).parents("thead")),function(r){r.length&&(n.dt.selectRow(this.parents("tr"),t),t=$(e,r).toArray().every(function(t){return!!$(t).prop("checked")}),$(e,r.prev()).prop("checked",t))}.call($(this),$(this).parents("tbody"))}$(e).parent().addClass("text-center").html(t(r())(n))}return{link:n,restrict:"E",scope:!1}}angular.module("crud.datatable").directive("checkbox",t),t.$inject=["$compile"]}(),function(){"use strict";function t(t,n,e,r){function a(n,r){function a(){n.dt=new t(o(n.manifest,[{afterBuild:i}]),{compile:function(t){e(t)(n)}})}function o(t,n){return t.hasOwnProperty("events")||(t.events={}),n.forEach(function(t){var n=Object.keys(t)[0],e=t[n];return this.hasOwnProperty(n)?this[n]=[e,this[n]]:void(this[n]=e)},t.events),t}function i(t){r.replaceWith(e(t)(n))}if(n.manifest instanceof Object)return a()}return{link:a,restrict:"E",scope:{manifest:"="}}}angular.module("crud.datatable").directive("zzDatatable",t),t.$inject=["DTHandler","DTOptionsBuilder","$compile","$state"]}(),function(){"use strict";function t(t,n,e){function r(n,r){e.loader("config").onLoaded({onSuccess:function(e){$(r).parent().addClass("text-center actions").html(t(a(e.action.row))(n))}})}function a(t){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)});return $('<div class="btn-group" />').attr({"uib-dropdown":n,"dropdown-append-to-body":!0}).append($('<button class="btn btn-xs btn-default dropdown-toggle" />').attr({type:"button","uib-dropdown-toggle":""}).append($('<em class="icon-settings" />')),o(n,t))}function o(t,e){var r=Object.keys(e);return $('<ul class="dropdown-menu-right" />').attr({uuid:t,role:"menu","uib-dropdown-menu":""}).append($.map(e,function(t,e){var a=[];return 0!==r.indexOf(e)&&a.push($('<li class="divider" />')),t.forEach(function(t){a.push($('<li role="menuitem" />').append($('<a href="javascript:void(0);" />').data("$$",n("symfony").transform(t)).click(function(){var t=$(this).parents("ul[uib-dropdown-menu]").attr("uuid"),n=$('div[uib-dropdown="'+t+'"]'),e=angular.element(n).scope().dt,r=angular.extend({row:$(n).parents("tr").data("$$")},$(this).data("$$"));e.event(r.name).invoke(e,r)}).html('{{ "'+t.display.label+'" | translate }}').prepend($('<em class="mr" />').addClass(t.display.icon))))}),a}))}return{link:r,restrict:"E",scope:!1}}angular.module("crud.datatable").directive("dropdown",t),t.$inject=["$compile","tf.action","supervisor"]}(),function(){"use strict";function t(t,n){function e(e){function r(){return e.hasOwnProperty("events")&&e.events instanceof Object&&(e.hasOwnProperty("actions")&&e.actions instanceof Object&&angular.extend(e.events,e.actions),angular.extend(s,new n(e.events))),e.hasOwnProperty("useActionTransformer")&&(c.actTrn=e.useActionTransformer),Object.keys(s).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(e[t]=this[t])},s),s}function a(t){$("button",i).filter(function(){return"create"!==$(this).data("$$").name}).prop("disabled",!t)}function o(n){delete e.build,angular.extend(s,{buttons:n}).event("afterBuild").invoke(void 0,i=new t(s,c))}var i,c={},s=angular.extend(this,{buttons:{},refreshButtonsAccessibility:a,build:o});return r()}return e}angular.module("crud.toolbar").factory("ToolBarHandler",t),t.$inject=["ToolBar","EventsHandler"]}(),function(){"use strict";function t(t){function n(t,n){return o=n,$("<div />").append(Object.keys(t.buttons).reverse().map(function(n){return e(t.buttons[n])})).find(">*:not(:first-child)").addClass("mr").parent()}function e(t){return $('<div class="btn-group pull-right" />').append(t.map(function(t){return r(t)}))}function r(n){var e=n;return o.hasOwnProperty("actTrn")&&(e=t(o.actTrn).transform(e)),a(n).data("$$",e).click(function(){var t=angular.element(this).scope().toolbar,n=$(this).data("$$");t.event(n.name).invoke(t,n)})}function a(t){return $('<button class="btn btn-sm" />').addClass(t.display.btnClass).attr("uib-tooltip",'{{ "'+t.display.label+'" | translate }}').append($("<em />").addClass(t.display.icon))}var o;return n}angular.module("crud.toolbar").factory("ToolBar",t),t.$inject=["tf.action"]}(),function(){"use strict";function t(t,n){function e(e,r){function a(){e.toolbar=new t(o(e.manifest,[{afterBuild:i}]))}function o(t,n){return t.hasOwnProperty("events")||(t.events={}),n.forEach(function(t){var n=Object.keys(t)[0],e=t[n];return this.hasOwnProperty(n)?this[n]=[e,this[n]]:void(this[n]=e)},t.events),t}function i(t){r.replaceWith(n(t)(e))}if(e.manifest instanceof Object)return a()}return{link:e,restrict:"E",scope:{manifest:"="}}}angular.module("crud.toolbar").directive("zzToolbar",t),t.$inject=["ToolBarHandler","$compile"]}();