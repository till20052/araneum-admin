!function(){"use strict";angular.module("crud",["ngDialog","crud.form","crud.toolbar","crud.datatable"])}(),function(){"use strict";angular.module("crud.datatable",[])}(),function(){"use strict";angular.module("crud.form",[])}(),function(){"use strict";angular.module("crud.toolbar",[])}(),function(){"use strict";angular.module("crud").config(["$httpProvider",function(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}])}(),function(){"use strict";function t(t,e,n,r,a,o,i){function c(){r.loader("config").load(e.$current.initialize).onLoaded({onSuccess:function(t){p.filter.build(t.filter),p.toolbar.build(t.action.top),p.datatable.build(t.grid)}})}function s(){function t(){var t=this,e={};p.datatable.filter(Object.keys(this.data()).forEach(function(e){this[t.name+"["+e+"]"]=t.data(e)},e)||e)}function e(){this.data({}),p.datatable.reset()}return{useFormTransformer:"symfony",layout:"grid",actionBar:[{$$:"search",icon:"fa fa-search",title:"admin.general.SEARCH","class":"primary"},{$$:"reset",icon:"fa fa-refresh",title:"admin.general.RESET"}],actions:{search:t,reset:e}}}function u(){function t(t){a.open({template:"crud/dialog.html",controller:"CRUDDialogController",controllerAs:"vm",data:{icon:t.view.icon,title:t.view.label,datatable:p.datatable,form:{source:t.form.source}}})}return{useActionTransformer:"symfony",actions:{create:t,setState:d,remove:f}}}function l(){function t(){p.toolbar.refreshButtonsAccessibility(this.getSelectedRows().length>0)}function e(t){a.open({template:"crud/dialog.html",controller:"CRUDDialogController",controllerAs:"vm",data:{icon:t.view.icon,title:t.view.label,datatable:p.datatable,form:{source:t.form.source+"/"+t.row.id}}})}return{events:{onRenderRows:t,onSelectRow:t},actions:{update:e,setState:d,remove:f}}}function d(t){var e=[];t.hasOwnProperty("row")&&e.push(t.row.id),1!==e.length&&(e=p.datatable.getSelectedRows().map(function(t){return $(t).data("$$").id})),n.send({url:t.source,method:"POST",data:{data:e},notify:!0},function(){p.datatable.refresh()})}function f(t){var e=[];t.hasOwnProperty("row")&&e.push(t.row.id),1!==e.length&&(e=p.datatable.getSelectedRows().map(function(t){return $(t).data("$$").id})),o.swal({title:h(t.confirm.title),type:"warning",showCancelButton:!0,cancelButtonText:h(t.confirm.buttons.cancel),confirmButtonText:h(t.confirm.buttons.confirm),confirmButtonColor:"#dd6b55"},function(r){r&&n.send({url:t.source,method:"POST",data:{data:e},notify:!0},function(){p.datatable.refresh()})})}var p=this,h=i("translate");t.icon=e.$current.crud.icon,t.title=e.$current.crud.title,p.filter=s(),p.toolbar=u(),p.datatable=l(),t.$on("panel-refresh",function(e,n){console.log(e,n),t.$broadcast("removeSpinner",n),"filter"===n&&p.filter.actions.reset.call(p.filter)}),c()}angular.module("crud").controller("CRUDController",t),t.$inject=["$scope","$state","transport","supervisor","ngDialog","SweetAlert","$filter"]}(),function(){"use strict";function t(t,e,n,r){function a(){if(!(t.hasOwnProperty("ngDialogData")&&t.ngDialogData instanceof Object))throw console.error("[ERROR]: Controller cannot access required initialisation data.");var e=t.ngDialogData;["icon","title"].forEach(function(n){e.hasOwnProperty(n)&&(s[n]=t.ngDialogData[n])}),e.hasOwnProperty("datatable")&&i(e.datatable),e.hasOwnProperty("form")&&o(e.form)}function o(t){t instanceof Object&&t.hasOwnProperty("source")&&n.loader("form").load(t.source).onLoaded({onSuccess:function(t){s.isLoaded=!0,s.form.build(t)}})}function i(t){c=t}var c,s=this;s.isLoaded=!1,s.icon="fa fa-file-o",s.title="Dialog",s.errors=[],s.form={useFormTransformer:"symfony",actionBar:[{$$:"save",icon:"fa fa-check",title:"admin.general.SAVE","class":"primary"},{$$:"cancel",icon:"fa fa-minus-circle",title:"admin.general.CANCEL"}],actions:{save:function(){var n={};e.send({url:this.action,method:this.method,data:Object.keys(this.data()).forEach(function(t){var e=this.data(t);e instanceof Date&&(e=r("date")(e,"dd/MM/yyyy")),n[this.getChildById(t).name]=e},this)||n,notify:{skipIf:"error"}},function(){c.refresh(),t.closeThisDialog()},function(t){s.errors=t.message.split(/\n/)})},cancel:function(){t.closeThisDialog()}}},a()}angular.module("crud").controller("CRUDDialogController",t),t.$inject=["$scope","transport","supervisor","$filter"]}(),function(){"use strict";function t(){return n.prototype=Object.create(Array.prototype),e}function e(t){function e(){o={},Object.keys(t).forEach(function(e){t[e]instanceof Array||(t[e]=[t[e]]),t[e].forEach(function(t){a(e,t)})})}function r(t){return o.hasOwnProperty(t)||(o[t]=new n),o[t]}function a(t,e){return o.hasOwnProperty(t)||(o[t]=new n),o[t].push(e),i}var o,i=angular.extend(this,{event:r});return e(),i}function n(){function t(t,n){n=arguments,e.forEach(function(e){e.apply(t,this)},Object.keys(n).filter(function(e){return t!==n[e]}).map(function(t){return n[t]}))}var e=angular.extend(this,{invoke:t});return e}angular.module("crud").factory("EventsHandler",t)}(),function(){"use strict";function t(t){return function(){function e(e){return a=t({url:e,method:"GET"}),this}function n(t){return t instanceof Object&&void 0!==a&&a.then.apply(a,["onSuccess","onError"].map(function(e){return t.hasOwnProperty(e)?function(n){t[e](n.data,n.status,n)}:void 0})),this}function r(){a=void 0}var a;return{load:e,onLoaded:n,clearPromise:r}}}angular.module("crud").factory("CRUDLoader",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(){function t(){return r=e(),a}function e(){function t(t){var e={editRow:"setState",deleteRow:"remove"};return e.hasOwnProperty(t.callback)?e[t.callback]:t.callback}function e(t){return t.hasOwnProperty("confirm")?{title:t.confirm.title,buttons:{confirm:t.confirm.yes.title,cancel:t.confirm.no.title}}:void 0}function n(t){return t.hasOwnProperty("form")?{source:t.form}:void 0}function r(t){return t.hasOwnProperty("resource")?t.resource:void 0}function a(t){return t.hasOwnProperty("display")?t.display:void 0}return{name:t,confirm:e,form:n,view:a,source:r}}function n(t){return function(){var t=this;return Object.keys(arguments).forEach(function(e){void 0!==this[e][Object.keys(this[e])[0]]&&angular.extend(t,this[e])},arguments)||t}.apply({name:r.name(t)},[{confirm:r.confirm(t)},{form:r.form(t)},{source:r.source(t)},{view:r.view(t)}])}var r,a=angular.extend(this,{transform:n});return t()}var e={symfony:new t};return function(t){return e[t]}}angular.module("crud").service("tf.action",t)}(),function(){"use strict";function t(t){function n(t){return void 0===a.get(t)&&a.set(t,new e),a.get(t)}function r(e){return void 0===n("loader").get(e)&&n("loader").set(e,new t),n("loader").get(e)}var a=new e;return{loader:r}}function e(){function t(t,e){return n[t]=e,r}function e(t){return n[t]}var n={},r={set:t,get:e};return r}angular.module("crud").service("supervisor",t),t.$inject=["CRUDLoader"]}(),function(){"use strict";function t(t,e){function n(e,n,a){t(angular.extend(e,function(t){return e.hasOwnProperty("data")?$.param(e.data):t}({}),function(t){return e.hasOwnProperty("contentType")&&"form"===e.contentType?{headers:{"Content-Type":"application/x-www-form-urlencoded"}}:t}({}))).then(function(t){var a=t.data;e.hasOwnProperty("notify")&&r(e.notify,"success",a),"function"==typeof n&&n(a)},function(t){var n=t.data;e.hasOwnProperty("notify")&&r(e.notify,"error",n),"function"==typeof a&&a(t.data)})}function r(t,n,r){function a(){t.hasOwnProperty("message")||(t.message="="),t.hasOwnProperty("skipIf")&&t.skipIf.constructor!==Array&&(t.skipIf=[t.skipIf]),o()&&e.pop(n,c[n].title,i(t.message))}function o(){return c.hasOwnProperty(n)&&!(t.hasOwnProperty("skipIf")&&-1!==t.skipIf.indexOf(n))}function i(t){return t instanceof Object&&t.hasOwnProperty(n)?i(t[n]):r[function(t){return t&&void 0!==t[1]?t[1]:"message"}(/=?([A-z0-9-_]+)?/.exec(t))]}if(!(t instanceof Object)){if(-1===["boolean"].indexOf(typeof t))return;"boolean"==typeof t&&(t={})}var c={success:{title:"Success"},error:{title:"Error"}};return a()}return angular.extend(this,{send:n})}angular.module("crud").service("transport",t),t.$inject=["$http","toaster"]}(),function(){"use strict";function t(t){function e(e,n){function r(){return $('<div class="checkbox c-checkbox mr0" />').append($("<label />").append($('<input type="checkbox" />').change(a)).append($('<span class="fa fa-check mr0" />')))}function a(){var t=$(this).prop("checked"),n='input[type="checkbox"]';!function(e){e.length&&e.next().find(n).prop("checked",t).change()}($(this).parents("thead")),function(r){r.length&&(e.dt.selectRow(this.parents("tr"),t),t=$(n,r).toArray().every(function(t){return!!$(t).prop("checked")}),$(n,r.prev()).prop("checked",t))}.call($(this),$(this).parents("tbody"))}$(n).parent().addClass("text-center").html(t(r())(e))}return{link:e,restrict:"E",scope:!1}}angular.module("crud.datatable").directive("checkbox",t),t.$inject=["$compile"]}(),function(){"use strict";function t(t,e,n,r){function a(e,r){function a(){e.dt=new t(o(e.manifest,[{afterBuild:i}]),{compile:function(t){n(t)(e)}})}function o(t,e){return t.hasOwnProperty("events")||(t.events={}),e.forEach(function(t){var e=Object.keys(t)[0],n=t[e];return this.hasOwnProperty(e)?this[e]=[n,this[e]]:void(this[e]=n)},t.events),t}function i(t){r.replaceWith(n(t)(e))}if(e.manifest instanceof Object)return a()}return{link:a,restrict:"E",scope:{manifest:"="}}}angular.module("crud.datatable").directive("crudDatatable",t),t.$inject=["DTHandler","DTOptionsBuilder","$compile","$state"]}(),function(){"use strict";function t(t,e,n){function r(e,r){n.loader("config").onLoaded({onSuccess:function(n){$(r).parent().addClass("text-center"),r.replaceWith(t(a(n.action.row))(e))}})}function a(t){return $('<div class="btn-group" />').attr("uib-dropdown","").append($('<button class="btn btn-xs btn-default dropdown-toggle" />').attr({type:"button","uib-dropdown-toggle":""}).append($('<em class="icon-settings" />')),o(t))}function o(t){var n=Object.keys(t);return $('<ul class="dropdown-menu-right" />').attr({role:"menu","uib-dropdown-menu":""}).append($.map(t,function(t,r){var a=[];return 0!==n.indexOf(r)&&a.push($('<li class="divider" />')),t.forEach(function(t){a.push($('<li role="menuitem" />').append($('<a href="javascript:void(0);" />').data("$$",e("symfony").transform(t)).click(function(){var t=angular.element(this).scope().dt,e=angular.extend({row:$(this).parents("tr").data("$$")},$(this).data("$$"));t.event(e.name).invoke(t,e)}).html('{{ "'+t.display.label+'" | translate }}').prepend($('<em class="mr" />').addClass(t.display.icon))))}),a}))}return{link:r,restrict:"E",scope:!1}}angular.module("crud.datatable").directive("dropdown",t),t.$inject=["$compile","tf.action","supervisor"]}(),function(){"use strict";function t(t,e,n,r,a){function o(o,i){function c(){function t(t,e,n,r){if(m.instance.hasOwnProperty("drawAttrs")){var o=m.instance.drawAttrs;o.hasOwnProperty("filter")&&"string"==typeof o.filter&&o.filter.length>0&&(t+="?"+o.filter),o.hasOwnProperty("state")&&(r._iDisplayStart=o.state.start,e=e.map(function(t){return"iDisplayStart"===t.name&&(t.value=o.state.start),t}),delete o.state)}r.jqXHR=$.ajax({dataType:"json",type:"POST",url:t,data:e,success:function(t){n(angular.extend(t,{aaData:$.map(t.aaData,function(t){return[t.splice(0,t.length-1).concat(["<dropdown />","<checkbox />"])]})})),$('input[type="checkbox"]',r.nTable).prop("checked",!1),m.compile($("> tbody > tr",r.nTable).each(function(){$(this).data("$$",{id:parseInt($("> td:first-child",this).text()),selected:!1})}).find("> td > *").filter(function(){return/^(dropdown|checkbox)$/gi.test($(this).prop("tagName"))})),m.event("onRenderRows").invoke(m)},error:function(t){401===t.status&&a.go("login")}})}return o.hasOwnProperty("events")&&o.events instanceof Object&&(o.hasOwnProperty("actions")&&o.actions instanceof Object&&angular.extend(o.events,o.actions),angular.extend(m,new e(o.events))),m.options=n.newOptions().withOption("processing",!0).withOption("serverSide",!0).withOption("fnServerData",t).withOption("language",r.translateTable()).withPaginationType("full_numbers"),Object.keys(m).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(o[t]=this[t])},m),m}function s(t){function e(t){return t.constructor===Object?{filter:$.param(t)}:void 0}function n(t){if(t===!0){var e={state:{}};return Object.keys(r.page.info()).forEach(function(t){this[t]=r.page.info()[t]},e.state)||e}}var r=m.instance.DataTable,a=m.instance.drawAttrs={};return t instanceof Object&&["filter","holdState"].forEach(function(r){t.hasOwnProperty(r)&&angular.extend(a,{filter:e,holdState:n}[r](t[r]))}),r.draw()}function u(t){m.draw({filter:t})}function l(){m.draw(angular.extend({holdState:!0},m.instance.drawAttrs))}function d(){m.draw({})}function f(t,e){if(!($(t).data("$$")instanceof Object))throw console.error("[ERROR]: Cannot set row selection state",t);t.data("$$").selected=!!e,m.event("onSelectRow").invoke(m)}function p(){return $("> tbody > tr",m.instance.dataTable).filter(function(){return $(this).data("$$").selected}).toArray()}function h(e){delete o.build,angular.extend(m,e).event("afterBuild").invoke(null,new t(m)),m.options.sAjaxSource=e.source}var m=angular.extend(this,i,{instance:{},columns:[],source:"",options:{},selectRow:f,getSelectedRows:p,draw:s,filter:u,refresh:l,reset:d,build:h});return c()}return o}angular.module("crud.datatable").factory("DTHandler",t),t.$inject=["DataTable","EventsHandler","DTOptionsBuilder","TranslateDatatablesService","$state"]}(),function(){"use strict";function t(){function t(t){return $('<table class="table-bordered table-striped hover" />').attr({datatable:"crud","dt-instance":"dt.instance","dt-options":"dt.options"}).append(e(t.columns))}function e(t){return $("<thead />").append($("<tr />").append($.map(t,function(t){return $('<th class="bt0 bl0" />').html('{{ "'+t+'" | translate }}')}),$('<th class="bt0 bl0" />').attr({width:1,"data-sortable":!1}),$('<th class="bt0 bl0 p text-center" />').attr({width:1,"data-sortable":!1}).append($("<checkbox />"))))}return t}angular.module("crud.datatable").factory("DataTable",t)}(),function(){"use strict";function t(t,e){function n(n,r){function a(){n.form=new t(o(n.manifest,[{afterBuild:i}]))}function o(t,e){return t.hasOwnProperty("events")||(t.events={}),e.forEach(function(t){var e=Object.keys(t)[0],n=t[e];return this.hasOwnProperty(e)?this[e]=[n,this[e]]:void(this[e]=n)},t.events),t}function i(t){r.replaceWith(e(t)(n));var a=$(t).parents("div.ngdialog-content");1===a.length&&a.width(700)}if(n.manifest instanceof Object)return a()}return{link:n,restrict:"E",scope:{manifest:"="}}}angular.module("crud.form").directive("form",t),t.$inject=["FormHandler","$compile"]}(),function(){"use strict";function FormHandlerFactory(Form,EventsHandler,FormRenderer,transformer){function FormHandler(manifest){function activate(){return["name:String","children:Array","actionBar:Array"].forEach(function(token){var $this=this,parts=token.split(":"),field=parts[0];$this[field]=function(field,type){return this.hasOwnProperty(field)&&this[field].constructor.name==type?this[field]:eval("new "+type+"()")}.apply(manifest,parts)},$this),$renderer=new FormRenderer(manifest.hasOwnProperty("layout")?manifest.layout:void 0),manifest.hasOwnProperty("useFormTransformer")&&($transformer=transformer(manifest.useFormTransformer)),manifest.hasOwnProperty("events")&&manifest.events instanceof Object&&(manifest.hasOwnProperty("actions")&&manifest.actions instanceof Object&&angular.extend(manifest.events,manifest.actions),angular.extend($this,new EventsHandler(manifest.events))),Object.keys($this).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(manifest[t]=this[t])},$this),$this}function data(t,e){if(void 0===t)return $data;{if("string"!=typeof t)return t instanceof Object&&($data=t),$this;if(void 0!==e)return $data[t]=e,$this;if($data.hasOwnProperty(t))return $data[t]}}function getChildren(){return $this.children}function getChild(t){return void 0!==$this.children[t]?$this.children[t]:void 0}function getChildById(t){try{return $this.children.forEach(function(e){if(e.id===t)throw e})}catch(e){return e}}function build(t){delete manifest.build,void 0!==$transformer&&(t=$transformer.transform(t)),angular.extend($this,t).data(t.values).event("afterBuild").invoke(void 0,$renderer.render(new Form($this))),Object.keys($this.values).forEach(function(t){this.indexOf(t)>-1||delete $this.values[t]},$this.children.map(function(t){return t.id}))}var $data={},$renderer,$transformer,$this=angular.extend(this,{name:"",action:"",method:"",children:[],actionBar:[],data:data,getChildren:getChildren,getChild:getChild,getChildById:getChildById,build:build});return activate()}return FormHandler}angular.module("crud.form").factory("FormHandler",FormHandlerFactory),FormHandlerFactory.$inject=["Form","EventsHandler","FormRenderer","tf.form"]}(),function(){"use strict";function t(){function t(t){function r(){return c.rule(void 0!==t?t:"dumb")}function a(t){return void 0===t?i:(i=t,c)}function o(t){return $("body").append(t),{dumb:e,grid:n}[i](t),t}var i,c=angular.extend(this,{rule:a,render:o});return r()}function e(t){$("> children > child",t).each(function(){var e=$("> *",this).toArray();return 1===$('> input[type="hidden"]',this).length?t.prepend(e):(e.length>1?($(e[0]).attr("class","col-lg-3"),$(e[0]).is("label")&&$(e[0]).addClass("control-label"),e[1]=$('<div class="col-lg-9" />').append($(e[1]))):e.length>0&&(e[0]=$('<div class="col-lg-offset-3 col-lg-9" />').append($(e[0]))),void t.append($('<div class="form-group" />').append(e)))}),t.addClass("form-horizontal").append($('<div class="form-group mb0" />').append($('<div class="col-lg-offset-3 col-lg-9" />').append($("> action-bar > *",t)))),$("> children, > action-bar",t).remove()}function n(t){$("> div.form-group",e(t)||t).addClass("col-lg-6")}return t}angular.module("crud.form").factory("FormRenderer",t),t.$inject=[]}(),function(){"use strict";function t(){function t(t){return e(t.name).append(s(t.children)).append(u(t.actionBar))}function s(t){return $("<children />").append(t.map(function(t,e){try{return $("<child />").append({hidden:n,checkbox:r,text:a,select:o,datePicker:i}[t.type](angular.extend(t,{index:e,model:"form.data()."+t.id})))}catch(c){throw console.error("Cannot find element by type: "+t.type,t)}}))}function u(t){return $("<action-bar />").append(t.map(function(t,e){var n=c(t);return 0!==e&&n.addClass("ml"),n}))}return t}function e(t){return $('<form class="form-validate" role="form" novalidate />').attr("name",t)}function n(t){return $('<input type="hidden" />').attr({name:t.name,"ng-model":t.model})}function r(t){return $('<div class="checkbox c-checkbox pt0" />').css("minHeight","0").append($("<label />").html(t.label).prepend($('<input type="checkbox" />').attr({name:t.name,"ng-model":t.model}),$('<span class="fa fa-check" />')))}function a(t){return[$('<label class="control-label mt-sm" />').html(t.label),$('<input type="text" class="form-control" />').attr({name:t.name,placeholder:t.placeholder,"ng-model":t.model})]}function o(t){function e(t){return $('<select class="form-control" />').attr({name:t.name,"ng-model":t.model,"ng-options":"option.id as option.text | translate for option in form.getChild("+t.index+").options"})}function n(t){return $("<ui-select />").attr({name:t.name,"ng-model":t.model,theme:"bootstrap",multiple:!0}).append($("<ui-select-match />").html("{{ $item.text }}").attr({placeholder:t.placeholder}),$("<ui-select-choices />").attr("repeat","option.id as option in (form.getChild("+t.index+").options | filter: $select.search)").append($("<div />").html("{{ option.text }}")))}return[$('<label class="control-label mt-sm" />').html(t.label),function(){return t.hasOwnProperty("multiple")&&t.multiple!==!1?n(t):e(t)}(t)]}function i(t){return angular.extend(t,{isOpen:!1,options:{}}),[$('<label class="control-label mt-sm" />').html(t.label),$('<div class="input-group" />').append($('<input type="text" class="form-control" />').attr({"uib-datepicker-popup":"dd-MMMM-yyyy","datepicker-options":"form.children["+t.index+"].options","close-text":"Close","is-open":"form.children["+t.index+"].isOpen","ng-model":t.model}),$('<span class="input-group-btn">').append($('<button class="btn btn-default" />').append($('<i class="fa fa-calendar" />')).click(function(){t.isOpen=!0})))]}function c(t){var e=$('<button class="btn btn-default" />').html('{{ "'+t.title+'" | translate }}');return t.hasOwnProperty("class")&&e.removeClass("btn-default").addClass("btn-"+t["class"]),t.hasOwnProperty("icon")&&e.prepend($('<em class="mr-sm" />').addClass(t.icon)),t.hasOwnProperty("$$")&&e.data("$$",t.$$).click(function(){var t=angular.element(this).scope().form,e=$(this).data("$$");t.event(e).invoke(t)}),e}angular.module("crud.form").factory("Form",t)}(),function(){"use strict";function t(){function t(){function t(){return r=e(),a}function e(){function t(t){function e(t){return t.id}function n(t){return t.map(function(t){return t.id})}if(t.constructor!==Object)return{};var r={object:e,array:n};return Object.keys(t).forEach(function(t){var e=this[t].constructor.name.toLowerCase();r.hasOwnProperty(e)&&(this[t]=r[e](this[t]))},t)||t}function e(t){return t.hasOwnProperty("multiple")?!!t.multiple:void 0}function n(t){return"choice"===t?"select":"date"===t?"datePicker":t}function a(t,e,n){return e=void 0!==n?n:e,t.attr.hasOwnProperty(e)?'{{ "'+t.attr[e]+'" | translate }}':t[e]}function o(t){return t.hasOwnProperty("choices")&&t.choices instanceof Object&&(t.choices=Object.keys(t.choices).map(function(e){return t.choices[e]})),t.hasOwnProperty("choices")&&t.choices instanceof Array?[{id:void 0,text:t.placeholder}].concat(t.choices.map(function(t){return{id:t.data instanceof Object?t.data.id:t.data,text:t.label}})):void 0}function i(t){return function(){var t=this;return Object.keys(arguments).forEach(function(e){void 0!==this[e][Object.keys(this[e])[0]]&&angular.extend(t,this[e])},arguments),t}.apply({id:t.name.split(/(?=[A-Z])/).join("_").toLowerCase(),type:r.type(t.block_prefixes[1]),name:t.name},[{label:r.label(t,"label","translateLabel")},{placeholder:r.label(t,"placeholder")},{options:r.options(t)},{multiple:r.multiple(t)}])}function c(t){return t.hasOwnProperty("children")?Object.keys(t.children).map(function(e){return t.children[e].hasOwnProperty("vars")?r.child(t.children[e].vars):void 0}).filter(function(t){return void 0!==t}):void 0}function s(t){return t.hasOwnProperty("vars")?{name:t.vars.full_name,action:t.vars.action,method:t.vars.method,children:r.children(t),values:r.values(t.vars.value)}:void 0}return{values:t,multiple:e,type:n,label:a,options:o,child:i,children:c,form:s}}function n(t){return r.form(t)}var r,a=angular.extend(this,{transform:n});return t()}var e={symfony:new t};return function(t){return e[t]}}angular.module("crud").service("tf.form",t)}(),function(){"use strict";function t(t,e){function n(n,r){function a(){n.toolbar=new t(o(n.manifest,[{afterBuild:i}]))}function o(t,e){return t.hasOwnProperty("events")||(t.events={}),e.forEach(function(t){var e=Object.keys(t)[0],n=t[e];return this.hasOwnProperty(e)?this[e]=[n,this[e]]:void(this[e]=n)},t.events),t}function i(t){r.replaceWith(e(t)(n))}if(n.manifest instanceof Object)return a()}return{link:n,restrict:"E",scope:{manifest:"="}}}angular.module("crud.toolbar").directive("toolbar",t),t.$inject=["ToolBarHandler","$compile"]}(),function(){"use strict";function t(t,e){function n(n){function r(){return n.hasOwnProperty("events")&&n.events instanceof Object&&(n.hasOwnProperty("actions")&&n.actions instanceof Object&&angular.extend(n.events,n.actions),angular.extend(s,new e(n.events))),n.hasOwnProperty("useActionTransformer")&&(c.actTrn=n.useActionTransformer),Object.keys(s).forEach(function(t){"event"!==t&&"function"==typeof this[t]&&(n[t]=this[t])},s),s}function a(t){$("button",i).filter(function(){return"create"!==$(this).data("$$").name}).prop("disabled",!t)}function o(e){delete n.build,angular.extend(s,{buttons:e}).event("afterBuild").invoke(void 0,i=new t(s,c))}var i,c={},s=angular.extend(this,{buttons:{},refreshButtonsAccessibility:a,build:o});return r()}return n}angular.module("crud.toolbar").factory("ToolBarHandler",t),t.$inject=["ToolBar","EventsHandler"]}(),function(){"use strict";function t(t){function e(t,e){return o=e,$("<div />").append(Object.keys(t.buttons).map(function(e){return n(t.buttons[e])})).find(">*:not(:first-child)").addClass("mr").parent()}function n(t){return $('<div class="btn-group pull-right" />').append(t.map(function(t){return r(t)}))}function r(e){var n=e;return o.hasOwnProperty("actTrn")&&(n=t(o.actTrn).transform(n)),a(e).data("$$",n).click(function(){var t=angular.element(this).scope().toolbar,e=$(this).data("$$");t.event(e.name).invoke(t,e)})}function a(t){return $('<button class="btn btn-sm" />').addClass(t.display.btnClass).attr("uib-tooltip",'{{ "'+t.display.label+'" | translate }}').append($("<em />").addClass(t.display.icon))}var o;return e}angular.module("crud.toolbar").factory("ToolBar",t),t.$inject=["tf.action"]}();